; testing this file
load ../supermajority.chbin

; supermajority calculation -- requires 2/3 of all keys or more to sign
;
; if 6 signatures exist on an account, and 4 sign, this succeeds
;
; 3 signers need 2 sigs
clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b011
event EVENT_CHANGEVALIDATION
run succeed

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b101
event EVENT_CHANGEVALIDATION
run succeed

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b110
event EVENT_CHANGEVALIDATION
run succeed

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b111
event EVENT_CHANGEVALIDATION
run succeed

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b010
event EVENT_CHANGEVALIDATION
run fail

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b100
event EVENT_CHANGEVALIDATION
run fail

clear
push { ACCT_VALIDATIONKEYS: [ 1 2 3 ] }
push 0   ; the tx doesn't matter
push 0b001
event EVENT_CHANGEVALIDATION
run fail

